@model IEnumerable<Project_1.Models.Listing>

@{
    ViewData["Title"] = "Manage Listings";
}

<div class="container my-5">
    <h2 class="text-center mb-4" style="color: #4b2c20; font-weight: 600;">Manage Listings</h2>

    <table class="table table-striped table-hover align-middle shadow-sm">
        <thead class="table-dark">
            <tr>
                <th scope="col">Listing ID</th>
                <th scope="col">Title</th>
                <th scope="col">Status</th>
                <th scope="col" class="text-center">Actions</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var listing in Model)
            {
                <tr>
                    <td>@listing.Id</td>
                    <td>@listing.Title</td>
                    <td>
                        @if (listing.IsSold)
                        {
                            <span class="badge bg-success">Sold</span>
                        }
                        else
                        {
                            <span class="badge bg-warning text-dark">Available</span>
                        }
                    </td>
                    <td class="text-center">
                        <a asp-action="EditListing" asp-controller="Admin" asp-route-id="@listing.Id" class="btn btn-sm btn-primary">Edit</a>


                        <form asp-action="DeleteListing" asp-controller="Listings" method="post" class="d-inline">
                            <input type="hidden" name="id" value="@listing.Id" />
                            @Html.AntiForgeryToken()
                            <button type="submit" class="btn btn-sm btn-danger";">
                                Delete
                            </button>
                        </form>
                    </td>
                </tr>
            }
        </tbody>
    </table>
    <a href="@Url.Action("Dashboard", "Admin")" style="padding-left:550px;"><i class="bi bi-house-door category-icon"></i></a>
</div>

<style>
    table.table-hover tbody tr:hover {
        background-color: #f8f9fa;
    }

    .badge {
        font-size: 0.9rem;
        padding: 0.5em 0.75em;
    }

    .btn-sm {
        font-size: 0.85rem;
    }
</style>
